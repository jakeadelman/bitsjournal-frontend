{"version":3,"file":"static/webpack/static/development/pages/register.js.e025993f021c5cab3df2.hot-update.js","sources":["webpack:///./components/RegisterForm.js"],"sourcesContent":["import { ApolloConsumer } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { allPostsQuery, allPostsQueryVars } from \"./PostList\";\nimport Input from \"./Form2/Input\";\nimport Label from \"./form/Label\";\nimport Button from \"./shared/Button\";\nimport FormWrapper from \"./Form2/FormWrapper\";\nimport styled from \"styled-components\";\nimport { removeArgumentsFromDocument } from \"apollo-utilities\";\nconst Cookie = require(\"js-cookie\");\n\nexport default function RegisterForm() {\n  function handleSubmit(event, client) {\n    event.preventDefault();\n    const form = event.target;\n    const formData = new window.FormData(form);\n    const firstName = formData.get(\"firstName\");\n    const lastName = formData.get(\"lastName\");\n    const email = formData.get(\"email\");\n    const password = formData.get(\"password\");\n    form.reset();\n\n    client\n      .mutate({\n        mutation: gql`\n          mutation register(\n            $firstName: String!\n            $lastName: String!\n            $email: String!\n            $password: String!\n          ) {\n            register(\n              data: {\n                firstName: $firstName\n                lastName: $lastName\n                email: $email\n                password: $password\n              }\n            ) {\n              id\n            }\n          }\n        `,\n        variables: { firstName, lastName, email, password }\n      })\n      .then(response => {\n        if (response.data) {\n          Cookie.set(\"uid\", response.data.register.id);\n          Router.push(\"/signup\");\n        } else {\n          console.log(\"there was an error\");\n        }\n      });\n  }\n\n  return (\n    <ApolloConsumer>\n      {client => (\n        <FormWrapper>\n          <StyledForm onSubmit={event => handleSubmit(event, client)}>\n            <InputWrapper>\n              <Label>firstname</Label>\n              <Input placeholder=\"\" name=\"firstName\" type=\"text\" required />\n            </InputWrapper>\n            <InputWrapper>\n              <Label>lastname</Label>\n              <Input placeholder=\"\" name=\"lastName\" type=\"text\" required />\n            </InputWrapper>\n            <InputWrapper>\n              <Label>email</Label>\n              <Input placeholder=\"\" name=\"email\" type=\"text\" required />\n            </InputWrapper>\n            <InputWrapper>\n              <Label>password</Label>\n              <Input placeholder=\"\" name=\"password\" type=\"text\" required />\n            </InputWrapper>\n            <SubmitButton type=\"submit\">Submit</SubmitButton>\n          </StyledForm>\n        </FormWrapper>\n      )}\n    </ApolloConsumer>\n  );\n}\n\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  ${props =>\n    props.loading &&\n    \"filter: grayscale(0.5) blur(5px) opacity(0.6); pointer-events: none\"};\n`;\n\nconst SubmitButton = styled(Button)`\n  align-self: flex-end;\n  margin-right: 0px;\n  margin-left: auto;\n`;\n\nconst InputWrapper = styled.div`\n  position: relative;\n  margin-bottom: 24px;\n  width: 100%;\n`;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AApBA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnBA;AAyBA;AAEA;AAAA;AAAA;AAAA;AAIA;AAAA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}