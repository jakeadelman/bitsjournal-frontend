{"version":3,"file":"static/webpack/static/development/pages/signup.js.6ebe664a2763aa2af04a.hot-update.js","sources":["webpack:///./components/Stripe/CheckoutForm.js"],"sourcesContent":["// CheckoutForm.js\nimport React from \"react\";\nimport { injectStripe, CardElement } from \"react-stripe-elements\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport gql from \"graphql-tag\";\n// import AddressSection from \"./AddressSection\";\nimport CardSection from \"./CardSection\";\nimport styled from \"styled-components\";\nimport Button from \"../shared/Button\";\nimport FormWrapper from \"../Form2/FormWrapper\";\nconst Cookie = require(\"js-cookie\");\n\nfunction CheckoutForm({ stripe }) {\n  const handleSubmit = (ev, client) => {\n    ev.preventDefault();\n    let srcId;\n    let uid;\n    stripe\n      .createSource({ type: \"card\", owner: { name: \"jenny rosen\" } })\n      .then(({ source }) => {\n        console.log(\"Received Stripe token:\", source);\n        srcId = source.id;\n        uid = Cookie.get(\"uid\");\n        return;\n      })\n      .then(() => {\n        client.mutate({\n          mutation: gql`\n            mutation confirmCard($uid: String!, $source: String!) {\n              confirmCard(uid: $uid, source: $source)\n            }\n          `,\n          variables: { uid, srcId }\n        });\n      });\n  };\n\n  return (\n    <ApolloConsumer>\n      {client => (\n        <FormWrapper>\n          <StyledForm onSubmit={e => handleSubmit(e, client)}>\n            <label style={{ width: \"100%\" }}>\n              <CardElement style={{ base: { fontSize: \"18px\" } }} />\n            </label>\n            <Button>Start your free trial</Button>\n          </StyledForm>\n        </FormWrapper>\n      )}\n    </ApolloConsumer>\n  );\n}\n\nexport default injectStripe(CheckoutForm);\n\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 100%;\n  ${props =>\n    props.loading &&\n    \"filter: grayscale(0.5) blur(5px) opacity(0.6); pointer-events: none\"};\n`;\n\nconst SubmitButton = styled(Button)`\n  align-self: flex-end;\n  margin-right: 0px;\n  margin-left: auto;\n`;\n\nconst InputWrapper = styled.div`\n  position: relative;\n  margin-bottom: 24px;\n  width: 100%;\n`;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAAA;AAAA;AAAA;AANA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AANA;AAYA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAKA;AAAA;AAKA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;;;;A","sourceRoot":""}