{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        mutation logout {\\n          logout\\n        }\\n      \"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport Link from \"next/link\";\nimport { withRouter } from \"next/router\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport theme from \"../theme\";\nimport { useContext, useState } from \"react\";\nimport HeaderLogo from \"./Logo\";\nimport \"./header.scss\";\nimport DatePicker from \"../Menu/Datepicker\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Router from \"next/router\";\nimport { headerItem, wideFont, link, transition } from \"../shared/helpers\";\n\nvar Cookie = require(\"js-cookie\");\n\nvar Header = function Header(_ref) {\n  var router = _ref.router;\n\n  function logout(_x) {\n    return _logout.apply(this, arguments);\n  }\n\n  function _logout() {\n    _logout = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(client) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              Cookie.remove(\"isAuth\");\n              Cookie.remove(\"qid\");\n              window.localStorage.removeItem(\"store\");\n              _context.next = 5;\n              return client.mutate({\n                mutation: gql(_templateObject())\n              });\n\n            case 5:\n              Router.push(\"/\");\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _logout.apply(this, arguments);\n  }\n\n  return __jsx(ThemeProvider, {\n    theme: theme(false)\n  }, __jsx(Wrapper, null, __jsx(HeaderLogo, null), __jsx(DatePickersWrap, null, __jsx(DatePickerWrap, null, __jsx(DatePicker, {\n    set: true,\n    start: true\n  })), __jsx(\"div\", {\n    style: {\n      color: \"white\",\n      margin: \"auto 0px\"\n    }\n  }, \"-\"), __jsx(DatePickerWrap, null, __jsx(DatePicker, {\n    set: true,\n    start: false\n  }))), __jsx(LinksWrap, null, __jsx(Link, {\n    prefetch: true,\n    href: \"/settings\"\n  }, __jsx(StyledLink, {\n    className: router.pathname === \"/settings\" ? \"is-active\" : \"\"\n  }, \"settings\")), __jsx(ApolloConsumer, null, function (client) {\n    return __jsx(StyledLink, {\n      onClick: function onClick() {\n        return logout(client);\n      }\n    }, \"logout\");\n  }))));\n};\n\n_c = Header;\nexport default _c2 = withRouter(Header);\nvar LogoWrap = styled.div.withConfig({\n  displayName: \"DashboardHeader__LogoWrap\",\n  componentId: \"sc-1szqfd9-0\"\n})([\"\"]);\nvar TempDiv = styled.div.withConfig({\n  displayName: \"DashboardHeader__TempDiv\",\n  componentId: \"sc-1szqfd9-1\"\n})([\"margin:auto;\"]);\nvar LinksWrap = styled.div.withConfig({\n  displayName: \"DashboardHeader__LinksWrap\",\n  componentId: \"sc-1szqfd9-2\"\n})([\"margin-right:0;margin-left:auto;display:flex;flex-direction:row;\"]);\n_c3 = LinksWrap;\nvar DatePickersWrap = styled.div.withConfig({\n  displayName: \"DashboardHeader__DatePickersWrap\",\n  componentId: \"sc-1szqfd9-3\"\n})([\"margin-left:20px;margin-right:auto;display:flex;flex-direction:row;\"]);\n_c4 = DatePickersWrap;\nvar DatePickerWrap = styled.div.withConfig({\n  displayName: \"DashboardHeader__DatePickerWrap\",\n  componentId: \"sc-1szqfd9-4\"\n})([\"margin:auto 10px;\"]);\n_c5 = DatePickerWrap;\nvar StyledLink = styled.div.withConfig({\n  displayName: \"DashboardHeader__StyledLink\",\n  componentId: \"sc-1szqfd9-5\"\n})([\"\", \";\", \";margin:0;color:\", \";color:#fff;text-transform:capitalize;position:relative;cursor:pointer;::after{\", \";content:\\\"\\\";position:absolute;left:0;right:0;bottom:0;opacity:0;border-bottom:1px solid \", \";}:hover{opacity:1;color:\", \";}:hover::after{opacity:1;border-bottom:1px solid \", \";}&.active::after{left:0;right:0;bottom:0;border-bottom:3px solid \", \";}font-weight:700;letter-spacing:0.05em;font-size:14px;margin-left:auto;\"], headerItem, link, function (props) {\n  return props.theme.mutedText;\n}, transition(\"opacity\", \"border-bottom-width\"), function (props) {\n  return props.theme.accent;\n}, function (props) {\n  return props.theme.accent;\n}, function (props) {\n  return props.theme.accent;\n}, function (props) {\n  return props.theme.accent;\n});\n_c6 = StyledLink;\nvar Wrapper = styled.header.withConfig({\n  displayName: \"DashboardHeader__Wrapper\",\n  componentId: \"sc-1szqfd9-6\"\n})([\"position:sticky;z-index:10;top:0;display:flex;align-items:stretch;border-bottom:2px solid #eee;height:55px;padding:0 0vw;font-weight:700;background-color:\", \";user-select:none;background-color:#212527;@media (max-width:425px){margin-bottom:16px;height:40px;}@media (max-width:768px){padding:0;}\"], function (props) {\n  return props.theme.foreground;\n});\n_c7 = Wrapper;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Header\");\n$RefreshReg$(_c2, \"%default%\");\n$RefreshReg$(_c3, \"LinksWrap\");\n$RefreshReg$(_c4, \"DatePickersWrap\");\n$RefreshReg$(_c5, \"DatePickerWrap\");\n$RefreshReg$(_c6, \"StyledLink\");\n$RefreshReg$(_c7, \"Wrapper\");","map":{"version":3,"sources":["/Users/manx/projects-2/bitsjournal/frontend/components/Header/DashboardHeader.js"],"names":["Link","withRouter","styled","ThemeProvider","theme","useContext","useState","HeaderLogo","DatePicker","ApolloConsumer","gql","Router","headerItem","wideFont","link","transition","Cookie","require","Header","router","logout","client","remove","window","localStorage","removeItem","mutate","mutation","push","color","margin","pathname","LogoWrap","div","TempDiv","LinksWrap","DatePickersWrap","DatePickerWrap","StyledLink","props","mutedText","accent","Wrapper","header","foreground"],"mappings":"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","sourcesContent":["import Link from \"next/link\";\nimport { withRouter } from \"next/router\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport theme from \"../theme\";\nimport { useContext, useState } from \"react\";\nimport HeaderLogo from \"./Logo\";\nimport \"./header.scss\";\nimport DatePicker from \"../Menu/Datepicker\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Router from \"next/router\";\n\nimport { headerItem, wideFont, link, transition } from \"../shared/helpers\";\nconst Cookie = require(\"js-cookie\");\n\nconst Header = ({ router }) => {\n  async function logout(client) {\n    Cookie.remove(\"isAuth\");\n    Cookie.remove(\"qid\");\n    window.localStorage.removeItem(\"store\");\n    await client.mutate({\n      mutation: gql`\n        mutation logout {\n          logout\n        }\n      `,\n    });\n    Router.push(\"/\");\n  }\n\n  return (\n    <ThemeProvider theme={theme(false)}>\n      <Wrapper>\n        <HeaderLogo />\n        <DatePickersWrap>\n          <DatePickerWrap>\n            <DatePicker set={true} start={true} />\n          </DatePickerWrap>\n          <div style={{ color: \"white\", margin: \"auto 0px\" }}>-</div>\n          <DatePickerWrap>\n            <DatePicker set={true} start={false} />\n          </DatePickerWrap>\n        </DatePickersWrap>\n        <LinksWrap>\n          <Link prefetch href=\"/settings\">\n            <StyledLink\n              className={router.pathname === \"/settings\" ? \"is-active\" : \"\"}\n            >\n              settings\n            </StyledLink>\n          </Link>\n          <ApolloConsumer>\n            {(client) => (\n              <StyledLink onClick={() => logout(client)}>logout</StyledLink>\n            )}\n          </ApolloConsumer>\n        </LinksWrap>\n      </Wrapper>\n    </ThemeProvider>\n  );\n};\n\nexport default withRouter(Header);\n\nconst LogoWrap = styled.div``;\n\nconst TempDiv = styled.div`\n  margin: auto;\n`;\n\nconst LinksWrap = styled.div`\n  margin-right: 0;\n  margin-left: auto;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst DatePickersWrap = styled.div`\n  margin-left: 20px;\n  margin-right: auto;\n  display: flex;\n  flex-direction: row;\n`;\nconst DatePickerWrap = styled.div`\n  margin: auto 10px;\n`;\n\nconst StyledLink = styled.div`\n  ${headerItem};\n  ${link};\n  margin: 0;\n  color: ${(props) => props.theme.mutedText};\n  color: #fff;\n  text-transform: capitalize;\n\n  position: relative;\n  cursor: pointer;\n  ::after {\n    ${transition(\"opacity\", \"border-bottom-width\")};\n\n    content: \"\";\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    border-bottom: 1px solid ${(props) => props.theme.accent};\n  }\n\n  :hover {\n    opacity: 1;\n    color: ${(props) => props.theme.accent};\n  }\n  :hover::after {\n    opacity: 1;\n    border-bottom: 1px solid ${(props) => props.theme.accent};\n  }\n\n  &.active::after {\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border-bottom: 3px solid ${(props) => props.theme.accent};\n  }\n  font-weight: 700;\n  letter-spacing: 0.05em;\n  font-size: 14px;\n  margin-left: auto;\n`;\n\nconst Wrapper = styled.header`\n  position: sticky;\n  z-index: 10;\n  top: 0;\n  display: flex;\n  align-items: stretch;\n\n  border-bottom: 2px solid #eee;\n  height: 55px;\n  padding: 0 0vw;\n  font-weight: 700;\n  background-color: ${(props) => props.theme.foreground};\n  user-select: none;\n  background-color: #212527;\n\n  @media (max-width: 425px) {\n    margin-bottom: 16px;\n    height: 40px;\n  }\n  @media (max-width: 768px) {\n    padding: 0;\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}