{"ast":null,"code":"var __jsx = React.createElement;\nimport { getNotes, getHashtags } from \"./notesHelpers\";\nimport React, { useState, useEffect } from \"react\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport { observer } from \"mobx-react-lite\";\nimport { inject } from \"mobx-react\";\nimport TextareaAutosize from \"react-autosize-textarea\";\nimport gql from \"graphql-tag\";\nconst MyTextArea = inject(\"store\")(observer(({\n  firstTrade,\n  store,\n  client\n}) => {\n  const {\n    0: value,\n    1: setValue\n  } = useState();\n  const {\n    0: light,\n    1: setLight\n  } = useState(false);\n  const {\n    0: myClient,\n    1: setClient\n  } = useState(client);\n  useEffect(() => {\n    let val;\n\n    if (firstTrade.notes == \"undefined\") {\n      setValue(\"Add notes here...\");\n      setLight(true);\n    } else {\n      setValue(firstTrade.notes);\n    }\n\n    let notTemp = true;\n\n    if (store.tempNotes[0] !== undefined) {\n      for (let i = 0; i < store.tempNotes.length; i++) {\n        if (store.tempNotes[i].time == firstTrade.timestamp.toString()) {\n          setValue(store.tempNotes[i].note);\n        }\n      }\n    }\n  });\n  useEffect(() => {\n    if (value != \"Add notes here...\") {\n      setLight(false);\n      getNotes(value).then(async res => {\n        let notes = res[0];\n        let time = firstTrade.timestamp;\n        let reso = myClient.mutate({\n          mutation: gql`\n              mutation addNotes($time: String!, $notes: String!) {\n                addNotes(time: $time, notes: $notes)\n              }\n            `,\n          variables: {\n            time,\n            notes\n          }\n        });\n        return await reso;\n      });\n    }\n  }, [value]);\n\n  function handleChange() {\n    return event => {\n      setLight(false);\n      store.addTempNote(firstTrade.timestamp, event.target.value);\n      setValue(event.target.value);\n    };\n  }\n\n  if (light == false) {\n    return __jsx(TextareaAutosize, {\n      style: {\n        width: \"100%\",\n        padding: \"12px 20px\",\n        marginTop: \"8px\",\n        boxSizing: \"border-box\",\n        background: \"#f8f8ff\",\n        border: \"none\",\n        outline: \"none\",\n        fontSize: \"15px\"\n      },\n      rows: 5,\n      maxRows: 25,\n      value: value,\n      onChange: handleChange()\n    });\n  } else {\n    return __jsx(TextareaAutosize, {\n      style: {\n        width: \"100%\",\n        padding: \"12px 20px\",\n        marginTop: \"8px\",\n        boxSizing: \"border-box\",\n        background: \"#f8f8ff\",\n        border: \"none\",\n        outline: \"none\",\n        fontSize: \"15px\",\n        color: \"#c6c6c6\"\n      },\n      rows: 5,\n      maxRows: 25,\n      value: value,\n      onChange: handleChange()\n    });\n  }\n}));\nexport default MyTextArea;","map":{"version":3,"sources":["/Users/manx/projects-2/bitsjournal/frontend/components/Dashboard/Notes/TextArea.js"],"names":["getNotes","getHashtags","React","useState","useEffect","ApolloConsumer","observer","inject","TextareaAutosize","gql","MyTextArea","firstTrade","store","client","value","setValue","light","setLight","myClient","setClient","val","notes","notTemp","tempNotes","undefined","i","length","time","timestamp","toString","note","then","res","reso","mutate","mutation","variables","handleChange","event","addTempNote","target","width","padding","marginTop","boxSizing","background","border","outline","fontSize","color"],"mappings":"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","sourcesContent":["import { getNotes, getHashtags } from \"./notesHelpers\";\nimport React, { useState, useEffect } from \"react\";\nimport { ApolloConsumer } from \"react-apollo\";\nimport { observer } from \"mobx-react-lite\";\nimport { inject } from \"mobx-react\";\nimport TextareaAutosize from \"react-autosize-textarea\";\nimport gql from \"graphql-tag\";\n\nconst MyTextArea = inject(\"store\")(\n  observer(({ firstTrade, store, client }) => {\n    const [value, setValue] = useState();\n    const [light, setLight] = useState(false);\n    const [myClient, setClient] = useState(client);\n    useEffect(() => {\n      let val;\n      if (firstTrade.notes == \"undefined\") {\n        setValue(\"Add notes here...\");\n        setLight(true);\n      } else {\n        setValue(firstTrade.notes);\n      }\n      let notTemp = true;\n      if (store.tempNotes[0] !== undefined) {\n        for (let i = 0; i < store.tempNotes.length; i++) {\n          if (store.tempNotes[i].time == firstTrade.timestamp.toString()) {\n            setValue(store.tempNotes[i].note);\n          }\n        }\n      }\n    });\n\n    useEffect(() => {\n      if (value != \"Add notes here...\") {\n        setLight(false);\n        getNotes(value).then(async (res) => {\n          let notes = res[0];\n          let time = firstTrade.timestamp;\n          let reso = myClient.mutate({\n            mutation: gql`\n              mutation addNotes($time: String!, $notes: String!) {\n                addNotes(time: $time, notes: $notes)\n              }\n            `,\n            variables: { time, notes },\n          });\n          return await reso;\n        });\n      }\n    }, [value]);\n\n    function handleChange() {\n      return (event) => {\n        setLight(false);\n        store.addTempNote(firstTrade.timestamp, event.target.value);\n        setValue(event.target.value);\n      };\n    }\n\n    if (light == false) {\n      return (\n        <TextareaAutosize\n          style={{\n            width: \"100%\",\n            padding: \"12px 20px\",\n            marginTop: \"8px\",\n            boxSizing: \"border-box\",\n            background: \"#f8f8ff\",\n            border: \"none\",\n            outline: \"none\",\n            fontSize: \"15px\",\n          }}\n          rows={5}\n          maxRows={25}\n          value={value}\n          onChange={handleChange()}\n        />\n      );\n    } else {\n      return (\n        <TextareaAutosize\n          style={{\n            width: \"100%\",\n            padding: \"12px 20px\",\n            marginTop: \"8px\",\n            boxSizing: \"border-box\",\n            background: \"#f8f8ff\",\n            border: \"none\",\n            outline: \"none\",\n            fontSize: \"15px\",\n            color: \"#c6c6c6\",\n          }}\n          rows={5}\n          maxRows={25}\n          value={value}\n          onChange={handleChange()}\n        />\n      );\n    }\n  })\n);\n\nexport default MyTextArea;\n"]},"metadata":{},"sourceType":"module"}