{"ast":null,"code":"var _jsxFileName = \"/Users/manx/projects-2/bitsjournal/frontend/components/form/RegisterForm.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { ApolloConsumer } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Input from \"./Input\";\nimport Label from \"./Label\";\nimport Button from \"../shared/Button\";\nimport FormWrapper from \"./FormWrapper\";\nimport styled from \"styled-components\";\nimport { removeArgumentsFromDocument } from \"apollo-utilities\";\nimport Router from \"next/router\";\n\nconst Cookie = require(\"js-cookie\");\n\nexport default function RegisterForm() {\n  function handleSubmit(event, client) {\n    event.preventDefault();\n    const form = event.target;\n    const formData = new window.FormData(form);\n    const firstName = formData.get(\"firstName\");\n    const lastName = formData.get(\"lastName\");\n    const email = formData.get(\"email\");\n    const password = formData.get(\"password\");\n    form.reset();\n    client.mutate({\n      mutation: gql`\n          mutation register(\n            $firstName: String!\n            $lastName: String!\n            $email: String!\n            $password: String!\n          ) {\n            register(\n              data: {\n                firstName: $firstName\n                lastName: $lastName\n                email: $email\n                password: $password\n              }\n            ) {\n              id\n            }\n          }\n        `,\n      variables: {\n        firstName,\n        lastName,\n        email,\n        password\n      }\n    }).then(response => {\n      if (response.data) {\n        Cookie.set(\"uid\", response.data.register.id);\n        Router.push(\"/signup\");\n      } else {\n        console.log(\"there was an error\");\n      }\n    });\n  }\n\n  return __jsx(ApolloConsumer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, client => __jsx(FormWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(StyledForm, {\n    onSubmit: event => handleSubmit(event, client),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, __jsx(InputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"firstname\"), __jsx(Input, {\n    placeholder: \"\",\n    name: \"firstName\",\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  })), __jsx(InputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }\n  }, \"lastname\"), __jsx(Input, {\n    placeholder: \"\",\n    name: \"lastName\",\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  })), __jsx(InputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, \"email\"), __jsx(Input, {\n    placeholder: \"\",\n    name: \"email\",\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  })), __jsx(InputWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, \"password\"), __jsx(Input, {\n    placeholder: \"\",\n    name: \"password\",\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  })), __jsx(SubmitButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"Submit\"))));\n} // const MyFormWrapper = styled.div`\n//   margin: auto;\n//   margin-top: 20vh;\n// `;\n\nconst StyledForm = styled.form.withConfig({\n  displayName: \"RegisterForm__StyledForm\",\n  componentId: \"uh5rr5-0\"\n})([\"display:flex;flex-direction:column;align-items:flex-start;\", \";\"], props => props.loading && \"filter: grayscale(0.5) blur(5px) opacity(0.6); pointer-events: none\");\nconst SubmitButton = styled(Button).withConfig({\n  displayName: \"RegisterForm__SubmitButton\",\n  componentId: \"uh5rr5-1\"\n})([\"align-self:flex-end;margin-right:0px;margin-left:auto;\"]);\nconst InputWrapper = styled.div.withConfig({\n  displayName: \"RegisterForm__InputWrapper\",\n  componentId: \"uh5rr5-2\"\n})([\"position:relative;margin-bottom:24px;width:100%;\"]);","map":{"version":3,"sources":["/Users/manx/projects-2/bitsjournal/frontend/components/form/RegisterForm.js"],"names":["ApolloConsumer","gql","Input","Label","Button","FormWrapper","styled","removeArgumentsFromDocument","Router","Cookie","require","RegisterForm","handleSubmit","event","client","preventDefault","form","target","formData","window","FormData","firstName","get","lastName","email","password","reset","mutate","mutation","variables","then","response","data","set","register","id","push","console","log","StyledForm","props","loading","SubmitButton","InputWrapper","div"],"mappings":"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","sourcesContent":["import { ApolloConsumer } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport Input from \"./Input\";\nimport Label from \"./Label\";\nimport Button from \"../shared/Button\";\nimport FormWrapper from \"./FormWrapper\";\nimport styled from \"styled-components\";\nimport { removeArgumentsFromDocument } from \"apollo-utilities\";\nimport Router from \"next/router\";\nconst Cookie = require(\"js-cookie\");\n\nexport default function RegisterForm() {\n  function handleSubmit(event, client) {\n    event.preventDefault();\n    const form = event.target;\n    const formData = new window.FormData(form);\n    const firstName = formData.get(\"firstName\");\n    const lastName = formData.get(\"lastName\");\n    const email = formData.get(\"email\");\n    const password = formData.get(\"password\");\n    form.reset();\n\n    client\n      .mutate({\n        mutation: gql`\n          mutation register(\n            $firstName: String!\n            $lastName: String!\n            $email: String!\n            $password: String!\n          ) {\n            register(\n              data: {\n                firstName: $firstName\n                lastName: $lastName\n                email: $email\n                password: $password\n              }\n            ) {\n              id\n            }\n          }\n        `,\n        variables: { firstName, lastName, email, password },\n      })\n      .then((response) => {\n        if (response.data) {\n          Cookie.set(\"uid\", response.data.register.id);\n          Router.push(\"/signup\");\n        } else {\n          console.log(\"there was an error\");\n        }\n      });\n  }\n\n  return (\n    <ApolloConsumer>\n      {(client) => (\n        <FormWrapper>\n          <StyledForm onSubmit={(event) => handleSubmit(event, client)}>\n            <InputWrapper>\n              <Label>firstname</Label>\n              <Input placeholder=\"\" name=\"firstName\" type=\"text\" required />\n            </InputWrapper>\n            <InputWrapper>\n              <Label>lastname</Label>\n              <Input placeholder=\"\" name=\"lastName\" type=\"text\" required />\n            </InputWrapper>\n            <InputWrapper>\n              <Label>email</Label>\n              <Input placeholder=\"\" name=\"email\" type=\"text\" required />\n            </InputWrapper>\n            <InputWrapper>\n              <Label>password</Label>\n              <Input placeholder=\"\" name=\"password\" type=\"text\" required />\n            </InputWrapper>\n            <SubmitButton type=\"submit\">Submit</SubmitButton>\n          </StyledForm>\n        </FormWrapper>\n      )}\n    </ApolloConsumer>\n  );\n}\n// const MyFormWrapper = styled.div`\n//   margin: auto;\n//   margin-top: 20vh;\n// `;\n\nconst StyledForm = styled.form`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  ${(props) =>\n    props.loading &&\n    \"filter: grayscale(0.5) blur(5px) opacity(0.6); pointer-events: none\"};\n`;\n\nconst SubmitButton = styled(Button)`\n  align-self: flex-end;\n  margin-right: 0px;\n  margin-left: auto;\n`;\n\nconst InputWrapper = styled.div`\n  position: relative;\n  margin-bottom: 24px;\n  width: 100%;\n`;\n"]},"metadata":{},"sourceType":"module"}