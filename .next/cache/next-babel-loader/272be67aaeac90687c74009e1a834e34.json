{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\n\nvar _dec, _class2;\n\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport styled from \"styled-components\";\nimport { ContainDiv, NextToDiv, NextToDivHeader, RowContainer, ContainDivHeader } from \"../Tades/Trades\";\nimport ReChart from \"../Tades/Trades\";\nimport Sidebar, { SymbolChooser, Pnl } from \"../../Menu/Menu\";\nimport { Pnl768, SymbolChooser768 } from \"../../Menu/768px/Menu\";\nimport { getNewDat } from \"../shared/helpers\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCaretLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport React, { useState } from \"react\";\nimport Notes from \"../Notes/NotesTest\";\nimport Tabs from \"../Tabs\";\nimport { Nav, NavItem, Dropdown, DropdownItem, DropdownToggle, DropdownMenu, NavLink } from \"reactstrap\";\nimport { inject, observer } from \"mobx-react\";\nimport { when, reaction } from \"mobx\";\nimport { wideFont } from \"../../shared/helpers\";\n\nvar _class = (_dec = inject(\"store\"), _dec(_class2 = observer(_class2 = /*#__PURE__*/function (_React$Component) {\n  _inherits(_class2, _React$Component);\n\n  var _super = _createSuper(_class2);\n\n  function _class2(props) {\n    var _this;\n\n    _classCallCheck(this, _class2);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      globalHash: [],\n      globalHashActive: [\"all\"],\n      data: null,\n      filteredData: null,\n      isSingle: false,\n      isSingleNotes: false\n    };\n    _this.getGlobalHashtags = _this.getGlobalHashtags.bind(_assertThisInitialized(_this));\n    _this.hashtagClicked = _this.hashtagClicked.bind(_assertThisInitialized(_this));\n    _this.hashtagClickedBack = _this.hashtagClickedBack.bind(_assertThisInitialized(_this));\n    _this.updateWindowDimensions = _this.updateWindowDimensions.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(_class2, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        data: this.props.data\n      });\n      this.getGlobalHashtags(this.props.data);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.singleTradeReaction = reaction(function () {\n        return _this2.props.store.hasSingleTrade;\n      }, function (notifications, reaction) {\n        console.log(\"HAS SINGLE\", _this2.props.store.hasSingleTrade);\n\n        if (_this2.props.store.hasSingleTrade == false) {\n          _this2.setState({\n            isSingle: false\n          });\n\n          console.log(\"setting back\");\n        } else {\n          _this2.setState({\n            isSingle: true,\n            singleTrade: _this2.props.store.singleTrade[0]\n          });\n\n          console.log(_this2.state, \"STATEE\");\n          console.log(\"setting back\");\n        }\n      });\n      this.singleNotesReaction = reaction(function () {\n        return _this2.props.store.isSingleNotes;\n      }, function (notifications, reaction) {\n        if (_this2.props.store.isSingleNotes == false) {\n          _this2.setState({\n            isSingleNotes: false\n          });\n        } else {\n          _this2.setState({\n            isSingleNotes: true\n          });\n        }\n      });\n      window.addEventListener(\"resize\", this.updateWindowDimensions);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.updateWindowDimensions);\n    }\n  }, {\n    key: \"updateWindowDimensions\",\n    value: function updateWindowDimensions() {\n      this.setState({\n        width: window.innerWidth\n      });\n    }\n  }, {\n    key: \"getGlobalHashtags\",\n    value: function () {\n      var _getGlobalHashtags = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n        var i, thisTradeHash, j, newGlobalHash;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                for (i = 0; i < data.fetchTradeHistory.length; i++) {\n                  thisTradeHash = data.fetchTradeHistory[i].hashtags.split(\",\");\n\n                  if (thisTradeHash != \"undefined\") {\n                    for (j = 0; j < thisTradeHash.length; j++) {\n                      if (thisTradeHash[j] != \"undefined\") {\n                        newGlobalHash = this.state.globalHash;\n                        newGlobalHash.push(thisTradeHash[j]);\n                        this.setState({\n                          globalHash: newGlobalHash\n                        });\n                      }\n                    }\n                  }\n                }\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getGlobalHashtags(_x) {\n        return _getGlobalHashtags.apply(this, arguments);\n      }\n\n      return getGlobalHashtags;\n    }()\n  }, {\n    key: \"hashtagClickedBack\",\n    value: function () {\n      var _hashtagClickedBack = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(value) {\n        var _this3 = this;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (value == \"all\") {\n                  console.log(\"DO NOTHING\");\n                } else {\n                  (function () {\n                    var newHashActive = [];\n                    var newHash = _this3.state.globalHash;\n\n                    for (var i = 0; i < _this3.state.globalHashActive.length; i++) {\n                      if (value !== _this3.state.globalHashActive[i]) {\n                        newHashActive.push(_this3.state.globalHashActive[i]);\n                      } else {\n                        newHash.push(_this3.state.globalHashActive[i]);\n                      }\n\n                      if (i == _this3.state.globalHashActive.length - 1) {\n                        if (newHashActive[0] == undefined) {\n                          var newHash2 = [];\n\n                          for (var j = 0; j < newHash.length; j++) {\n                            if (newHash[j] != \"all\") {\n                              newHash2.push(newHash[j]);\n                            }\n\n                            if (j == newHash.length - 1) {\n                              _this3.setState({\n                                globalHash: newHash2,\n                                globalHashActive: [\"all\"],\n                                filteredData: null\n                              });\n                            }\n                          }\n                        } else {\n                          (function () {\n                            var newHash2 = [];\n\n                            for (var _j = 0; _j < newHash.length; _j++) {\n                              if (newHash[_j] != \"all\") {\n                                newHash2.push(newHash[_j]);\n                              }\n\n                              if (_j == newHash.length - 1) {\n                                getNewDat(_this3.state.data, newHashActive).then(function (res) {\n                                  _this3.setState({\n                                    globalHash: newHash2,\n                                    globalHashActive: newHashActive,\n                                    filteredData: res\n                                  });\n                                });\n                              }\n                            }\n                          })();\n                        }\n                      }\n                    }\n                  })();\n                }\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function hashtagClickedBack(_x2) {\n        return _hashtagClickedBack.apply(this, arguments);\n      }\n\n      return hashtagClickedBack;\n    }()\n  }, {\n    key: \"hashtagClicked\",\n    value: function () {\n      var _hashtagClicked = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(value) {\n        var _this4 = this;\n\n        var newGlobalHash, newGlobalHash2, i, j, newArray, index, _newGlobalHash, _i, _index, _index2;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!(value == \"all\")) {\n                  _context3.next = 19;\n                  break;\n                }\n\n                newGlobalHash = this.state.globalHash;\n                newGlobalHash2 = [];\n                i = 0;\n\n              case 4:\n                if (!(i < this.state.globalHashActive.length)) {\n                  _context3.next = 19;\n                  break;\n                }\n\n                newGlobalHash.push(this.state.globalHashActive[i]);\n\n                if (!(i == this.state.globalHashActive.length - 1)) {\n                  _context3.next = 16;\n                  break;\n                }\n\n                j = 0;\n\n              case 8:\n                if (!(j < newGlobalHash.length)) {\n                  _context3.next = 16;\n                  break;\n                }\n\n                if (newGlobalHash[j] != \"all\") {\n                  newGlobalHash2.push(newGlobalHash[j]);\n                }\n\n                if (!(j == newGlobalHash.length - 1)) {\n                  _context3.next = 13;\n                  break;\n                }\n\n                this.setState({\n                  globalHash: newGlobalHash2,\n                  globalHashActive: [\"all\"],\n                  filteredData: null\n                });\n                return _context3.abrupt(\"return\");\n\n              case 13:\n                j++;\n                _context3.next = 8;\n                break;\n\n              case 16:\n                i++;\n                _context3.next = 4;\n                break;\n\n              case 19:\n                if (!(this.state.globalHashActive[0] == undefined)) {\n                  _context3.next = 26;\n                  break;\n                }\n\n                newArray = [];\n                newArray.push(value);\n                this.setState({\n                  globalHashActive: newArray\n                });\n                index = this.state.globalHash.indexOf(value);\n\n                if (index > -1) {\n                  _newGlobalHash = this.state.globalHash;\n\n                  _newGlobalHash.splice(index, 1);\n\n                  this.setState({\n                    globalHash: _newGlobalHash\n                  });\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 26:\n                _i = 0;\n\n              case 27:\n                if (!(_i < this.state.globalHashActive.length)) {\n                  _context3.next = 35;\n                  break;\n                }\n\n                if (this.state.globalHashActive[_i] == \"all\") {\n                  this.state.globalHashActive = [];\n                  _index = this.state.globalHash.indexOf(value);\n\n                  if (_index > -1) {\n                    (function () {\n                      var newGlobalHash = _this4.state.globalHash;\n                      newGlobalHash.splice(_index, 1);\n                      var torf = false;\n\n                      for (var _j2 = 0; _j2 < newGlobalHash.length; _j2++) {\n                        if (\"all\" == newGlobalHash[_j2]) {\n                          torf = true;\n                        }\n\n                        if (_j2 == newGlobalHash.length - 1 && torf == false) {\n                          newGlobalHash.push(\"all\");\n                        }\n                      }\n\n                      var newGlobalHashActive = _this4.state.globalHashActive;\n                      newGlobalHashActive.push(value);\n                      getNewDat(_this4.state.data, newGlobalHashActive).then(function (newDat) {\n                        _this4.setState({\n                          globalHashActive: newGlobalHashActive,\n                          globalHash: newGlobalHash,\n                          filteredData: newDat\n                        });\n\n                        return;\n                      });\n                    })();\n                  }\n                }\n\n                if (!(value == this.state.globalHashActive[_i])) {\n                  _context3.next = 31;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 31:\n                if (_i == this.state.globalHashActive.length - 1) {\n                  _index2 = this.state.globalHash.indexOf(value);\n\n                  if (_index2 > -1) {\n                    (function () {\n                      var newGlobalHash = _this4.state.globalHash;\n                      newGlobalHash.splice(_index2, 1); // newGlobalHash.push(\"all\");\n\n                      var torf = false;\n\n                      for (var _j3 = 0; _j3 < newGlobalHash.length; _j3++) {\n                        if (\"all\" == newGlobalHash[_j3]) {\n                          torf = true;\n                        }\n\n                        if (_j3 == newGlobalHash.length - 1 && torf == false) {\n                          newGlobalHash.push(\"all\");\n                        }\n                      }\n\n                      var newGlobalHashActive = _this4.state.globalHashActive;\n                      newGlobalHashActive.push(value);\n                      getNewDat(_this4.state.data, newGlobalHashActive).then(function (newDat) {\n                        _this4.setState({\n                          globalHashActive: newGlobalHashActive,\n                          globalHash: newGlobalHash,\n                          filteredData: newDat\n                        });\n\n                        return;\n                      });\n                    })();\n                  }\n                }\n\n              case 32:\n                _i++;\n                _context3.next = 27;\n                break;\n\n              case 35:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function hashtagClicked(_x3) {\n        return _hashtagClicked.apply(this, arguments);\n      }\n\n      return hashtagClicked;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      if (this.state.data != null) {\n        if (this.state.isSingle == false) {\n          console.log(\"IS SINGLE IS FALSE\");\n          return __jsx(Wrapper, null, __jsx(ChartWrapper, null, __jsx(TopBarParent, null, __jsx(TopBarTop, null, __jsx(TopBarTopLeft, null, __jsx(Pnl768, null)), __jsx(TopBarTopRight, null, __jsx(SymbolChooser768, null))), __jsx(TopBarBottom, null, this.state.globalHashActive.map(function (hash) {\n            return __jsx(TopHashtagIndividualActive, {\n              onClick: function onClick() {\n                return _this5.hashtagClickedBack(hash);\n              }\n            }, \"#\", hash);\n          }), this.state.globalHash.map(function (hash) {\n            return __jsx(TopHashtagIndividual, {\n              onClick: function onClick() {\n                return _this5.hashtagClicked(hash);\n              }\n            }, \"#\", hash);\n          }))), __jsx(WholeGrid, null, this.state.isSingleNotes == false ? __jsx(ContainDivHeader, null, __jsx(NextToDivHeader, null, \"Start\"), __jsx(NextToDivHeader, null, \"End\"), __jsx(NextToDivHeader, null, \"L/S\"), __jsx(NextToDivHeader, null, \"Entry\"), __jsx(NextToDivHeader, null, \"Exit\"), __jsx(NextToDivHeader, null, \"Qty\"), __jsx(NextToDivHeader, null, \"RPNL\")) : null, __jsx(ReChart, {\n            data: this.state.data,\n            filteredData: this.state.filteredData,\n            initData: this.props.data\n          }))));\n        } else {\n          console.log(\"IS SINGLE IS TRUE\");\n          return __jsx(Wrapper, null, __jsx(ChartWrapper, null, __jsx(TopBarParent, null, __jsx(TopBarChildBigLeft, null, __jsx(Tabs, null)), __jsx(TopBarChildSmall, null, __jsx(TopHashtagIndividualActivePnl, null, __jsx(Pnl, null))), __jsx(TopBarChildBigRight, null, __jsx(RightTabs, null, __jsx(Notes, {\n            firstTrade: this.state.singleTrade\n          })))), __jsx(WholeGrid, null, this.state.isSingleNotes == false ? __jsx(ContainDivHeader, null, __jsx(NextToDivHeader, null, \"Start\"), __jsx(NextToDivHeader, null, \"End\"), __jsx(NextToDivHeader, null, \"L/S\"), __jsx(NextToDivHeader, null, \"Entry\"), __jsx(NextToDivHeader, null, \"Exit\"), __jsx(NextToDivHeader, null, \"Qty\"), __jsx(NextToDivHeader, null, \"RPNL\")) : null, __jsx(ReChart, {\n            data: this.state.data,\n            filteredData: this.state.filteredData,\n            initData: this.props.data\n          }))));\n        }\n      }\n    }\n  }]);\n\n  return _class2;\n}(React.Component)) || _class2) || _class2);\n\nexport { _class as default };\nvar SingleTabInner = styled.div.withConfig({\n  displayName: \"DashboardTest__SingleTabInner\",\n  componentId: \"sc-1dz292n-0\"\n})([\"margin:auto;\"]);\nvar SingleTab = styled.div.withConfig({\n  displayName: \"DashboardTest__SingleTab\",\n  componentId: \"sc-1dz292n-1\"\n})([\"color:\", \";background-color:\", \";margin:auto 10px;border-radius:2px;padding:5px;:hover{cursor:pointer;}\"], function (props) {\n  return props.isActive ? \"#fff\" : \"#000\";\n}, function (props) {\n  return props.isActive ? \"#000\" : \"#fff\";\n});\nvar WrapTabs = styled.div.withConfig({\n  displayName: \"DashboardTest__WrapTabs\",\n  componentId: \"sc-1dz292n-2\"\n})([\"display:flex;flex-direction:row;font-size:15px;\"]);\nvar WholeGrid = styled.div.withConfig({\n  displayName: \"DashboardTest__WholeGrid\",\n  componentId: \"sc-1dz292n-3\"\n})([\"\"]); // border: 1px solid #f2f2f2;\n\nvar TopBarParent = styled.div.withConfig({\n  displayName: \"DashboardTest__TopBarParent\",\n  componentId: \"sc-1dz292n-4\"\n})([\"display:flex;flex-direction:column;flex-wrap:wrap;margin-bottom:14px;\"]);\nvar TopBarTop = styled.div.withConfig({\n  displayName: \"DashboardTest__TopBarTop\",\n  componentId: \"sc-1dz292n-5\"\n})([\"width:100%;display:flex;flex-direction:row;overflow:auto;margin-bottom:5px;\"]);\nvar TopBarBottom = styled.div.withConfig({\n  displayName: \"DashboardTest__TopBarBottom\",\n  componentId: \"sc-1dz292n-6\"\n})([\"width:100%;display:flex;flex-direction:row;overflow:auto;\"]); // flex: 1 1 45%; /*grow | shrink | basis */\n\nvar TopBarTopRight = styled.div.withConfig({\n  displayName: \"DashboardTest__TopBarTopRight\",\n  componentId: \"sc-1dz292n-7\"\n})([\"width:50%;display:flex;flex-direction:row;overflow:auto;\"]);\nvar TopBarTopLeft = styled.div.withConfig({\n  displayName: \"DashboardTest__TopBarTopLeft\",\n  componentId: \"sc-1dz292n-8\"\n})([\"width:50%;display:flex;flex-direction:row;overflow:auto;\", \"\"], wideFont);\nvar TopBarChildSmall = styled.div.withConfig({\n  displayName: \"DashboardTest__TopBarChildSmall\",\n  componentId: \"sc-1dz292n-9\"\n})([\"display:flex;flex-direction:row;width:10%;\"]);\nvar TopHashtagIndividual = styled.div.withConfig({\n  displayName: \"DashboardTest__TopHashtagIndividual\",\n  componentId: \"sc-1dz292n-10\"\n})([\"background:#f8f8ff;color:#000;padding:8px;margin:0 10px;border-radius:2px;\", \":hover{cursor:pointer;}margin-left:0;white-space:nowrap;\"], wideFont);\nvar TopHashtagIndividualActive = styled.div.withConfig({\n  displayName: \"DashboardTest__TopHashtagIndividualActive\",\n  componentId: \"sc-1dz292n-11\"\n})([\"background:#212528;color:#fff;padding:8px;margin:0 10px;border-radius:2px;\", \":hover{cursor:pointer;}margin-left:0;white-space:nowrap;\"], wideFont);\nvar TopHashtagIndividualActiveRight = styled.div.withConfig({\n  displayName: \"DashboardTest__TopHashtagIndividualActiveRight\",\n  componentId: \"sc-1dz292n-12\"\n})([\"background:#212528;color:#fff;padding:8px;margin:0 10px;border-radius:2px;\", \" margin:0 auto;:hover{cursor:pointer;}margin-right:0;\"], wideFont);\nvar RightTabs = styled.div.withConfig({\n  displayName: \"DashboardTest__RightTabs\",\n  componentId: \"sc-1dz292n-13\"\n})([\"color:#fff;margin:0 10px;border-radius:2px;\", \" margin:0 auto;:hover{cursor:pointer;}margin-right:0;\"], wideFont);\nvar TopHashtagIndividualActivePnl = styled.div.withConfig({\n  displayName: \"DashboardTest__TopHashtagIndividualActivePnl\",\n  componentId: \"sc-1dz292n-14\"\n})([\"color:#fff;padding:0px;margin:0 10px;border-radius:2px;\", \":hover{cursor:pointer;}margin:auto;\"], wideFont);\nvar ChartWrapper = styled.div.withConfig({\n  displayName: \"DashboardTest__ChartWrapper\",\n  componentId: \"sc-1dz292n-15\"\n})([\"background:white;padding:5px;width:100%;padding:10px;@media (max-width:768px){}\"]);\nvar Wrapper = styled.div.withConfig({\n  displayName: \"DashboardTest__Wrapper\",\n  componentId: \"sc-1dz292n-16\"\n})([\"display:flex;margin-top:5px;\"]);","map":null,"metadata":{},"sourceType":"module"}